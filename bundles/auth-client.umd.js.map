{"version":3,"file":"auth-client.umd.js","sources":["ng://auth-client/lib/links/auth/auth.component.ts","ng://auth-client/lib/links/tenant-change/tenant-change.component.ts","ng://auth-client/lib/auth-client.module.ts"],"sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'xac-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.css']\n})\nexport class AuthComponent implements OnInit {\n\n  public authAction: string;\n  private tokenName: string = \"xolura_access_token\";\n  @Input() class: string;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    this.generateAuthAction()\n  }\n\n  authClick() {\n    if (localStorage.getItem(this.tokenName)) {\n      this.logout()\n    } else {\n      this.login()\n    }\n    this.generateAuthAction()\n  }\n\n  private generateAuthAction() {\n\n    let jwtToken = localStorage.getItem(this.tokenName);\n    if (jwtToken) {\n      this.authAction = \"Logout (\" + (JSON.parse(atob(jwtToken.split('.')[1]))['acc_name']) + \")\";\n    } else {\n      this.authAction = \"Login\"\n    }\n  }\n\n  private logout() {\n    localStorage.removeItem(this.tokenName)\n  }\n\n  private login() {\n    window.location.href = (window.location.origin + '/xolura/auth-client/views/authentication?redirect_url=' + encodeURI(window.location.href))\n  }\n\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'xac-tenant-change',\n  templateUrl: './tenant-change.component.html',\n  styleUrls: ['./tenant-change.component.css']\n})\nexport class TenantChangeComponent implements OnInit {\n\n  public tenantChangeInsideText: string;\n  private tokenName: string = \"xolura_access_token\";\n  @Input() class: string;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.generateInsideText()\n  }\n\n  generateInsideText() {\n\n    let token = localStorage.getItem(this.tokenName)\n\n    if (token && token.split('.')[1]) {\n\n      let tenantName = JSON.parse(atob(token.split('.')[1]))['tenant_name']\n\n      if (tenantName) {\n        this.tenantChangeInsideText = tenantName\n      } else {\n        this.tenantChangeInsideText = 'Pilih Tenant'\n      }\n\n    } else {\n\n      this.tenantChangeInsideText = null\n\n    }\n\n  }\n\n  tenantChangeClick() {\n    window.location.href = (window.location.origin + '/xolura/auth-client/views/tenant-change?xolura_access_token=' + localStorage.getItem(this.tokenName) + '&redirect_url=' + encodeURI(window.location.href))\n  }\n\n}\n","import { NgModule } from '@angular/core';\r\nimport { AuthComponent } from './links/auth/auth.component';\r\nimport { TenantChangeComponent } from './links/tenant-change/tenant-change.component';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n  ],\r\n  declarations: [\r\n    AuthComponent,\r\n    TenantChangeComponent\r\n  ],\r\n  providers: [\r\n  ],\r\n  exports: [\r\n    AuthComponent,\r\n    TenantChangeComponent\r\n  ]\r\n})\r\nexport class AuthClientModule { }\r\n"],"names":["Component","Input","NgModule"],"mappings":";;;;;;;;;;AAAA;QAaE;YAHQ,cAAS,GAAW,qBAAqB,CAAC;SAIjD;;;;QAED,gCAAQ;;;QAAR;YACE,IAAI,CAAC,kBAAkB,EAAE,CAAA;SAC1B;;;;QAED,iCAAS;;;QAAT;YACE,IAAI,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;gBACxC,IAAI,CAAC,MAAM,EAAE,CAAA;aACd;iBAAM;gBACL,IAAI,CAAC,KAAK,EAAE,CAAA;aACb;YACD,IAAI,CAAC,kBAAkB,EAAE,CAAA;SAC1B;;;;;QAEO,0CAAkB;;;;QAA1B;;gBAEM,QAAQ,GAAG,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC;YACnD,IAAI,QAAQ,EAAE;gBACZ,IAAI,CAAC,UAAU,GAAG,UAAU,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,GAAG,GAAG,CAAC;aAC7F;iBAAM;gBACL,IAAI,CAAC,UAAU,GAAG,OAAO,CAAA;aAC1B;SACF;;;;;QAEO,8BAAM;;;;QAAd;YACE,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;SACxC;;;;;QAEO,6BAAK;;;;QAAb;YACE,MAAM,CAAC,QAAQ,CAAC,IAAI,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAG,wDAAwD,GAAG,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAA;SAC7I;;oBA3CFA,cAAS,SAAC;wBACT,QAAQ,EAAE,UAAU;wBACpB,iFAAoC;;qBAErC;;;;;4BAKEC,UAAK;;QAoCR,oBAAC;KA7CD;;;;;;ACFA;QAaE;YAHQ,cAAS,GAAW,qBAAqB,CAAC;SAGjC;;;;QAEjB,wCAAQ;;;QAAR;YACE,IAAI,CAAC,kBAAkB,EAAE,CAAA;SAC1B;;;;QAED,kDAAkB;;;QAAlB;;gBAEM,KAAK,GAAG,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC;YAEhD,IAAI,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;;oBAE5B,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC;gBAErE,IAAI,UAAU,EAAE;oBACd,IAAI,CAAC,sBAAsB,GAAG,UAAU,CAAA;iBACzC;qBAAM;oBACL,IAAI,CAAC,sBAAsB,GAAG,cAAc,CAAA;iBAC7C;aAEF;iBAAM;gBAEL,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAA;aAEnC;SAEF;;;;QAED,iDAAiB;;;QAAjB;YACE,MAAM,CAAC,QAAQ,CAAC,IAAI,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAG,8DAA8D,GAAG,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,gBAAgB,GAAG,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAA;SAC7M;;oBAzCFD,cAAS,SAAC;wBACT,QAAQ,EAAE,mBAAmB;wBAC7B,qGAA6C;;qBAE9C;;;;;4BAKEC,UAAK;;QAkCR,4BAAC;KA3CD;;;;;;ACFA;QAKA;SAciC;;oBAdhCC,aAAQ,SAAC;wBACR,OAAO,EAAE,EACR;wBACD,YAAY,EAAE;4BACZ,aAAa;4BACb,qBAAqB;yBACtB;wBACD,SAAS,EAAE,EACV;wBACD,OAAO,EAAE;4BACP,aAAa;4BACb,qBAAqB;yBACtB;qBACF;;QAC+B,uBAAC;KAdjC;;;;;;;;;;;;;;"}