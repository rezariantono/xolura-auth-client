{"version":3,"sources":["ng://auth-client/lib/links/auth/auth.component.ts","ng://auth-client/lib/links/tenant-change/tenant-change.component.ts","ng://auth-client/lib/auth-client.module.ts"],"names":["AuthComponent","this","tokenName","prototype","ngOnInit","generateAuthAction","authClick","localStorage","getItem","logout","login","jwtToken","authAction","JSON","parse","atob","split","removeItem","window","location","href","origin","encodeURI","Component","args","selector","template","Input","TenantChangeComponent","generateInsideText","token","tenantName","tenantChangeInsideText","tenantChangeClick","AuthClientModule","NgModule","imports","declarations","providers","exports"],"mappings":"8QAAA,IAAAA,EAAA,WAaE,SAAAA,IAHQC,KAAAC,UAAoB,sBAqC9B,OA/BEF,EAAAG,UAAAC,SAAA,WACEH,KAAKI,sBAGPL,EAAAG,UAAAG,UAAA,WACMC,aAAaC,QAAQP,KAAKC,WAC5BD,KAAKQ,SAELR,KAAKS,QAEPT,KAAKI,sBAGCL,EAAAG,UAAAE,mBAAR,eAEMM,EAAWJ,aAAaC,QAAQP,KAAKC,WAEvCD,KAAKW,WADHD,EACgB,WAAcE,KAAKC,MAAMC,KAAKJ,EAASK,MAAM,KAAK,KAAgB,SAAI,IAEtE,SAIdhB,EAAAG,UAAAM,OAAR,WACEF,aAAaU,WAAWhB,KAAKC,YAGvBF,EAAAG,UAAAO,MAAR,WACEQ,OAAOC,SAASC,KAAQF,OAAOC,SAASE,OAAS,yDAA2DC,UAAUJ,OAAOC,SAASC,2BA1CzIG,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,WACVC,SAAA,2JAOCC,EAAAA,SAoCH3B,EA/CA,GCAA4B,EAAA,WAaE,SAAAA,IAHQ3B,KAAAC,UAAoB,sBAmC9B,OA9BE0B,EAAAzB,UAAAC,SAAA,WACEH,KAAK4B,sBAGPD,EAAAzB,UAAA0B,mBAAA,eAEMC,EAAQvB,aAAaC,QAAQP,KAAKC,WAEtC,GAAI4B,GAASA,EAAMd,MAAM,KAAK,GAAI,KAE5Be,EAAalB,KAAKC,MAAMC,KAAKe,EAAMd,MAAM,KAAK,KAAkB,YAGlEf,KAAK+B,uBADHD,GAG4B,oBAKhC9B,KAAK+B,uBAAyB,MAMlCJ,EAAAzB,UAAA8B,kBAAA,WACEf,OAAOC,SAASC,KAAQF,OAAOC,SAASE,OAAS,+DAAiEd,aAAaC,QAAQP,KAAKC,WAAa,iBAAmBoB,UAAUJ,OAAOC,SAASC,2BAxCzMG,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,oBACVC,SAAA,+KAOCC,EAAAA,SAkCHC,EA7CA,GCAAM,EAAA,WAKA,SAAAA,KAcgC,2BAd/BC,EAAAA,SAAQX,KAAA,CAAC,CACRY,QAAS,GAETC,aAAc,CACZrC,EACA4B,GAEFU,UAAW,GAEXC,QAAS,CACPvC,EACA4B,OAG4BM,EAnBhC","sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'xac-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.css']\n})\nexport class AuthComponent implements OnInit {\n\n  public authAction: string;\n  private tokenName: string = \"xolura_access_token\";\n  @Input() class: string;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    this.generateAuthAction()\n  }\n\n  authClick() {\n    if (localStorage.getItem(this.tokenName)) {\n      this.logout()\n    } else {\n      this.login()\n    }\n    this.generateAuthAction()\n  }\n\n  private generateAuthAction() {\n\n    let jwtToken = localStorage.getItem(this.tokenName);\n    if (jwtToken) {\n      this.authAction = \"Logout (\" + (JSON.parse(atob(jwtToken.split('.')[1]))['acc_name']) + + \")\";\n    } else {\n      this.authAction = \"Login\"\n    }\n  }\n\n  private logout() {\n    localStorage.removeItem(this.tokenName)\n  }\n\n  private login() {\n    window.location.href = (window.location.origin + '/xolura/auth-client/views/authentication?redirect_url=' + encodeURI(window.location.href))\n  }\n\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'xac-tenant-change',\n  templateUrl: './tenant-change.component.html',\n  styleUrls: ['./tenant-change.component.css']\n})\nexport class TenantChangeComponent implements OnInit {\n\n  public tenantChangeInsideText: string;\n  private tokenName: string = \"xolura_access_token\";\n  @Input() class: string;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.generateInsideText()\n  }\n\n  generateInsideText() {\n\n    let token = localStorage.getItem(this.tokenName)\n\n    if (token && token.split('.')[1]) {\n\n      let tenantName = JSON.parse(atob(token.split('.')[1]))['tenant_name']\n\n      if (tenantName) {\n        this.tenantChangeInsideText = tenantName\n      } else {\n        this.tenantChangeInsideText = 'Pilih Tenant'\n      }\n\n    } else {\n\n      this.tenantChangeInsideText = null\n\n    }\n\n  }\n\n  tenantChangeClick() {\n    window.location.href = (window.location.origin + '/xolura/auth-client/views/tenant-change?xolura_access_token=' + localStorage.getItem(this.tokenName) + '&redirect_url=' + encodeURI(window.location.href))\n  }\n\n}\n","import { NgModule } from '@angular/core';\r\nimport { AuthComponent } from './links/auth/auth.component';\r\nimport { TenantChangeComponent } from './links/tenant-change/tenant-change.component';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n  ],\r\n  declarations: [\r\n    AuthComponent,\r\n    TenantChangeComponent\r\n  ],\r\n  providers: [\r\n  ],\r\n  exports: [\r\n    AuthComponent,\r\n    TenantChangeComponent\r\n  ]\r\n})\r\nexport class AuthClientModule { }\r\n"]}