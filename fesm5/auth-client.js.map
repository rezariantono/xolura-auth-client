{"version":3,"file":"auth-client.js","sources":["ng://auth-client/lib/links/auth/auth.component.ts","ng://auth-client/lib/links/tenant-change/tenant-change.component.ts","ng://auth-client/lib/auth-client.module.ts"],"sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'xac-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.css']\n})\nexport class AuthComponent implements OnInit {\n\n  public authAction: string;\n  private tokenName: string = \"xolura_access_token\";\n  @Input() class: string;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    this.generateAuthAction()\n  }\n\n  authClick() {\n    if (localStorage.getItem(this.tokenName)) {\n      this.logout()\n    } else {\n      this.login()\n    }\n    this.generateAuthAction()\n  }\n\n  private generateAuthAction() {\n\n    if (localStorage.getItem(this.tokenName)) {\n      this.authAction = \"Logout\"\n    } else {\n      this.authAction = \"Login\"\n    }\n  }\n\n  private logout() {\n    localStorage.removeItem(this.tokenName)\n  }\n\n  private login() {\n    window.location.href = (window.location.origin + '/xolura/auth-client/views/authentication?redirect_url=' + encodeURI(window.location.href))\n  }\n\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'xac-tenant-change',\n  templateUrl: './tenant-change.component.html',\n  styleUrls: ['./tenant-change.component.css']\n})\nexport class TenantChangeComponent implements OnInit {\n\n  public tenantChangeInsideText: string;\n  private tokenName: string = \"xolura_access_token\";\n  @Input() class: string;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.generateInsideText()\n  }\n\n  generateInsideText() {\n\n    let token = localStorage.getItem(this.tokenName)\n\n    if (token && token.split('.')[1]) {\n\n      let tenantName = JSON.parse(atob(token.split('.')[1]))['tenant_name']\n\n      if (tenantName) {\n        this.tenantChangeInsideText = tenantName\n      } else {\n        this.tenantChangeInsideText = 'Pilih Tenant'\n      }\n\n    } else {\n\n      this.tenantChangeInsideText = null\n\n    }\n\n  }\n\n  tenantChangeClick() {\n    window.location.href = (window.location.origin + '/xolura/auth-client/views/tenant-change?xolura_access_token=' + localStorage.getItem(this.tokenName) + '&redirect_url=' + encodeURI(window.location.href))\n  }\n\n}\n","import { NgModule } from '@angular/core';\r\nimport { AuthComponent } from './links/auth/auth.component';\r\nimport { TenantChangeComponent } from './links/tenant-change/tenant-change.component';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n  ],\r\n  declarations: [\r\n    AuthComponent,\r\n    TenantChangeComponent\r\n  ],\r\n  providers: [\r\n  ],\r\n  exports: [\r\n    AuthComponent,\r\n    TenantChangeComponent\r\n  ]\r\n})\r\nexport class AuthClientModule { }\r\n"],"names":[],"mappings":";;;;;;AAAA;IAaE;QAHQ,cAAS,GAAW,qBAAqB,CAAC;KAIjD;;;;IAED,gCAAQ;;;IAAR;QACE,IAAI,CAAC,kBAAkB,EAAE,CAAA;KAC1B;;;;IAED,iCAAS;;;IAAT;QACE,IAAI,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;YACxC,IAAI,CAAC,MAAM,EAAE,CAAA;SACd;aAAM;YACL,IAAI,CAAC,KAAK,EAAE,CAAA;SACb;QACD,IAAI,CAAC,kBAAkB,EAAE,CAAA;KAC1B;;;;;IAEO,0CAAkB;;;;IAA1B;QAEE,IAAI,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;YACxC,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAA;SAC3B;aAAM;YACL,IAAI,CAAC,UAAU,GAAG,OAAO,CAAA;SAC1B;KACF;;;;;IAEO,8BAAM;;;;IAAd;QACE,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;KACxC;;;;;IAEO,6BAAK;;;;IAAb;QACE,MAAM,CAAC,QAAQ,CAAC,IAAI,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAG,wDAAwD,GAAG,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAA;KAC7I;;gBA1CF,SAAS,SAAC;oBACT,QAAQ,EAAE,UAAU;oBACpB,iFAAoC;;iBAErC;;;;;wBAKE,KAAK;;IAmCR,oBAAC;CA5CD;;;;;;ACFA;IAaE;QAHQ,cAAS,GAAW,qBAAqB,CAAC;KAGjC;;;;IAEjB,wCAAQ;;;IAAR;QACE,IAAI,CAAC,kBAAkB,EAAE,CAAA;KAC1B;;;;IAED,kDAAkB;;;IAAlB;;YAEM,KAAK,GAAG,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC;QAEhD,IAAI,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;;gBAE5B,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC;YAErE,IAAI,UAAU,EAAE;gBACd,IAAI,CAAC,sBAAsB,GAAG,UAAU,CAAA;aACzC;iBAAM;gBACL,IAAI,CAAC,sBAAsB,GAAG,cAAc,CAAA;aAC7C;SAEF;aAAM;YAEL,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAA;SAEnC;KAEF;;;;IAED,iDAAiB;;;IAAjB;QACE,MAAM,CAAC,QAAQ,CAAC,IAAI,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAG,8DAA8D,GAAG,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,gBAAgB,GAAG,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAA;KAC7M;;gBAzCF,SAAS,SAAC;oBACT,QAAQ,EAAE,mBAAmB;oBAC7B,qGAA6C;;iBAE9C;;;;;wBAKE,KAAK;;IAkCR,4BAAC;CA3CD;;;;;;ACFA;IAKA;KAciC;;gBAdhC,QAAQ,SAAC;oBACR,OAAO,EAAE,EACR;oBACD,YAAY,EAAE;wBACZ,aAAa;wBACb,qBAAqB;qBACtB;oBACD,SAAS,EAAE,EACV;oBACD,OAAO,EAAE;wBACP,aAAa;wBACb,qBAAqB;qBACtB;iBACF;;IAC+B,uBAAC;CAdjC;;;;"}